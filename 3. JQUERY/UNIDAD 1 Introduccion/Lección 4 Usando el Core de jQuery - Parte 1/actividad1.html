<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Actividad 1</title>
    <script src="jquery-1.12.3.min.js"></script>
</head>

<body>
  <h1>Datos de la persona</h1>
  <label for="cjtxt1">Nombre:</label>
  <input type="text" id="cjtxt1">
  <br>
  <br>
  <label for="cjtxt2">Edad:</label>
  <input type="text" id="cjtxt2">
  <br>
  <br>
  <label for="cjtxt3">Estatura</label>
  <input type="text" id="cjtxt3">
  <br>
  <br>
  <label for="cjtxt4">Peso</label>
  <input type="text" id="cjtxt4">
  <br>
  <br>
  <p id="mensaje1"></p>
  <p id="mensaje2"></p>
  <input type="button" id="boton1" value="Registrar persona">
  <input type="button" id="boton2" value="Mostrar persona">
  <input type="button" id="boton3" value="Calcular IMC">
</body>
<script type="text/javascript">
  $(document).ready(function(){
    var persona = {
      nombre:null,
      edad:null,
      estatura:null,
      peso:null,

      init:function(propiedades){
        persona.propiedades = propiedades;
      },

      leerPropiedades:function(){
        return persona.propiedades;
      },
    }

    $("#boton1").click(function(){
      var nombre = $("#cjtxt1").val();
      var edad = $("#cjtxt2").val();
      var estatura = $("#cjtxt3").val();
      var peso = $("#cjtxt4").val();

      var propiedades = {
        nombre:nombre,
        edad:edad,
        estatura:estatura,
        peso:peso,
      }

      persona.init(propiedades);
      limpiarCampos();
      alert("Persona guardada");
    });

    $("#boton2").click(function(){
      var propiedades = persona.leerPropiedades();
      var mensaje = "<h1>Persona</h1>";

      mensaje += "Nombre: " + propiedades.nombre + "<br>";
      mensaje += "Edad: " + propiedades.edad + "<br>";
      mensaje += "Estatura: " + propiedades.estatura + "<br>";
      mensaje += "Peso: " + propiedades.peso + "<br>";

      $("#mensaje1").html(mensaje);
    });

    $("#boton3").click(function(){
      var propiedades = persona.leerPropiedades();
      var mensaje = "<h1>IMC</h1>";
      var estatura = propiedades.estatura;
      var peso = propiedades.peso;
      var imc = peso/Math.pow(estatura,2);
      var estado = "";
      if (imc < 18.5) {
        estado = "delgado";
      }else if (imc >=18.5 && imc<=24) {
        estado = "Normal";
      }else if (imc >=25 && imc <=29) {
        estado = "sobrepeso";
      }else {
        estado = "obeso";
      }
      mensaje = "El sr(a) " + propiedades.nombre + " tiene un IMC " + imc  + " y se encuentra en un estado " + estado;
      $("#mensaje2").html(mensaje);
    });

    function limpiarCampos(){
      $("#cjtxt1").val("");
      $("#cjtxt2").val("");
      $("#cjtxt3").val("");
      $("#cjtxt4").val("");
    }
  })
</script>
</html>
